
    <!-- Loading indicator -->
    <div *ngIf="loading" class="loading">
        Loading data...
    </div>

    <!-- isOnderdeelVan related data -->
    <div *ngIf="!loading && data?.node" class="node-data">
        <h4>Onderdeel van</h4>

        <!-- For each isOnderdeelVan, show details -->
        <div *ngFor="let onderdeelVanId of onderdeelVanIds" class="related-item">
            <details>
                <summary>
                    <app-hop-link [data]="{
                            value: onderdeelVanId ?? '',
                            hopLinkSettings: {
                                preds: ['https://data.razu.nl/def/ldto/naam'],
                                showHops: false
                            }
                        }">
                    </app-hop-link>
                </summary>
                <div>
                    <!-- dekkingInRuimte -->
                    <h5>Uitgebracht in</h5>
                    <div>
                        <div *ngFor="let ruimteId of getDekkingInRuimteIds(onderdeelVanId)" class="mb-1">
                            <app-hop-link [data]="{
                                    value: ruimteId ?? '',
                                    hopLinkSettings: {
                                        preds: ['http://schema.org/name'],
                                        showHops: false
                                    }
                                }">
                            </app-hop-link>
                        </div>
                        <div *ngIf="getDekkingInRuimteIds(onderdeelVanId).length === 0" class="text-muted">
                            Geen gebied gespecificeerd
                        </div>
                    </div>

                    <!-- dekkingintijd -->
                    <h5>Verschijningsperiode</h5>
                    Van <app-hop-link [data]="{
                            value: onderdeelVanId ?? '',
                            hopLinkSettings: {
                                preds: ['https://data.razu.nl/def/ldto/dekkingInTijd', 'https://data.razu.nl/def/ldto/dekkingInTijdBeginDatum'],
                                showHops: false,
                            },
                        }" (hopObjIdsRetrieved)="this.hasBeginDate = $event.length > 0" />

                    <div class="inline">
                        <span *ngIf="hasBeginDate && hasEndDate"> tot </span>
                        <app-hop-link [data]="{
                            value: onderdeelVanId ?? '',
                            hopLinkSettings: {
                                preds: ['https://data.razu.nl/def/ldto/dekkingInTijd', 'https://data.razu.nl/def/ldto/dekkingInTijdEindDatum'],
                                showHops: false,
                            },
                        }" (hopObjIdsRetrieved)="this.hasEndDate = $event.length > 0" />
                    </div>
                </div>
            </details>
        </div>
    </div>

    <!-- beperkingGebruik data -->
    <div *ngIf="!loading && data?.node" class="node-data">
        <h4>Auteursrecht en openbaarheid</h4>

        <!-- Get beperkingGebruik links -->
        <app-hop-link [data]="{
                value: data?.node?.['@id']?.[0]?.value ?? '',
                hopLinkSettings: beperkingGebruikSettings
            }" (hopObjIdsRetrieved)="beperkingGebruikIds = $event">
        </app-hop-link>

        <!-- For each beperkingGebruik, show details -->
        <div *ngFor="let beperkingId of beperkingGebruikIds" class="beperking-item">
            <details>
                <!-- Use prefLabel as summary -->
                <summary>
                    <app-hop-link [data]="{
                            value: beperkingId ?? '',
                            hopLinkSettings: prefLabelSettings
                        }">
                    </app-hop-link>
                </summary>

                <!-- copyrightNotice -->
                <details>
                    <summary>Copyright</summary>
                    <app-hop-link [data]="{
                            value: beperkingId ?? '',
                            hopLinkSettings: copyrightNoticeSettings
                        }">
                    </app-hop-link>
                </details>

                <!-- note -->
                <details>
                    <summary>Note</summary>
                    <app-hop-link [data]="{
                            value: beperkingId ?? '',
                            hopLinkSettings: noteSettings
                        }">
                    </app-hop-link>
                </details>
            </details>
        </div>
    </div>

    <!-- No data message -->
    <div *ngIf="!loading && (!data?.node || !data?.node?.['@id']?.length || (onderdeelVanIds.length === 0 && beperkingGebruikIds.length === 0))"
        class="no-data">
        No related data found for this node.
    </div>

    <!-- For debugging, you can show the raw data -->
    <details>
        <summary>Debug: Raw Node Data</summary>
        <pre>{{ data?.node | json }}</pre>
    </details>
