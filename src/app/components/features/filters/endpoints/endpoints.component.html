<!-- TODO: Prevent (repeated) container styling as for filter options -->
<div class="collapse collapse-arrow join-item bg-primary text-white border">
  <input
    type="checkbox"
    name="filter-accordion"
    [(ngModel)]="ui.accordionExpandedStates['endpoints']"
  />
  <div class="collapse-title">
    <span>{{ "search-interface.organizations" | translate }}</span>
    <app-filter-enabled-count
      [count]="
        +(
          filters.getEnabledFiltersCountStr(
            endpoints.enabledIds.value.length
          ) || 0
        )
      "
    />
  </div>

  <div class="collapse-content max-h-48 overflow-y-scroll overflow-x-hidden">
    @for (
      endpointId of Object.keys(Settings.endpoints.data);
      track endpointId
    ) {
      <div class="form-control flex-row">
        <label class="label text">
          <input
            type="checkbox"
            class="checkbox checkbox-sm mr-4"
            [checked]="endpoints.isEnabled(endpointId)"
            (click)="endpoints.toggle(endpointId)"
          />
          {{ endpoints.getById(endpointId)?.label }}
        </label>
      </div>
    }
  </div>
</div>
